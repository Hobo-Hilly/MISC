 # this is how to perform privilege escalation

''
Perform Privilege Escalation

When you use a client-side exploit, after a successful session, it will only have limited privileges. There will be several tasks, such as installing a backdoor, will be prevented. You need to perform privilege escalation to ensure that you can perform tasks, such as install a backdoor, dump password hashes, or even manipulate the registry.

In this task, you will perform privilege escalation. To do this, perform the following steps:
Step 1

Ensure that you are connected to PLABKALI01, and Meterpreter session is open.

Press Ctrl + l to clear the window. You should now see the meterpreter prompt.

To be able to use the getsystem command for privilege escalation, you need first to load the priv extensions. If you have not loaded this previously, it will get loaded. If already loaded, you will be prompted that it has been loaded.

use priv

Press Enter.

Figure 1.36 Screenshot of PLABKALI01
Figure 1.36 Screenshot of PLABKALI01: Entering the use priv command.

Step 2

Notice that you are prompted that priv extension has already been loaded.
Note: In your lab environment, it may not be loaded. The results are likely to vary.

Figure 1.37 Screenshot of PLABKALI01
Figure 1.37 Screenshot of PLABKALI01: Showing the output of the use priv command.

Step 3

Next, you will execute the getsystem command. Type the following command:

getsystem

Press Enter.

Figure 1.38 Screenshot of PLABKALI01
Figure 1.38 Screenshot of PLABKALI01: Entering the getsystem command to escalate privileges.

Step 4

Notice the output of the getsystem command. Privilege escalation is now successful.

Figure 1.39 Screenshot of PLABKALI01
Figure 1.39 Screenshot of PLABKALI01: Showing the output of the getsystem command.

Step 5

You can verify that the session is now running with SYSTEM privileges.

To do this, type the following command:

getuid

Press Enter.

Figure 1.40 Screenshot of PLABKALI01
Figure 1.40 Screenshot of PLABKALI01: Entering the getuid command to get the user details.

Step 6

Note the output, which confirms that the session is now running with SYSTEM privileges.

''


