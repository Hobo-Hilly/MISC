 # Volatile Edvidence Colloection with it-pro-tv.
 
this is a course featuring incident response material.

==========================================================

1. how to see who is logged in currently on the computer.

''
rootðŸ’€kali)-[/home/kali]
â””â”€# w
 16:00:15 up 2 days, 22:50,  4 users,  load average: 0.25, 0.95, 1.04
USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT
kali     tty7     :0               Sun17    2days 10:27   4.40s xfce4-s
kali     tty1     -                Sun17    2days  0.27s  0.25s -zsh
root     pts/1    tmux(11096).%0   15:50   14.00s  2.35s  0.22s vim Vol
root     pts/2    tmux(11096).%5   16:00    1.00s  0.08s  0.00s w
  
''

2. how to get ALL of the hardware information about the machine your working with.       






''

:~$ lshw        # press enter

...

rootðŸ’€kali)-[/home/Perenelle/iT-Pro]
â””â”€# uystem         20J7S0UU00 (LENOVO_MT_20J7_BU_Think_FM_ThinkPad T470p)
/0                                       bus            20J7S0UU00
/0/3                                     memory         16GiB System Memory
/0/3/0                                   memory         8GiB SODIMM DDR4 Synchronous Unbuffered (Unregistered) 2133 MHz (0.5 ns)
/0/3/1                                   memory         8GiB SODIMM DDR4 Synchronous Unbuffered (Unregistered) 2133 MHz (0.5 ns)
/0/7                                     memory         256KiB L1 cache
/0/8                                     memory         1MiB L2 cache
/0/9                                     memory         6MiB L3 cache
/0/a                                     processor      Intel(R) Core(TM) i7-7700HQ CPU @ 2.80GHz
/0/b                                     memory         128KiB BIOS
/0/100                                   bridge         Xeon E3-1200 v6/7th Gen Core Processor Host Bridge/DRAM Registers
/0/100/1                                 bridge         6th-10th Gen Core Processor PCIe Controller (x16)
/0/100/1.2                               bridge         Xeon E3-1200 v5/E3-1500 v5/6th Gen Core Processor PCIe Controller (x4)
/0/100/1.2/0                             display        GM108M [GeForce 940MX]
/0/100/2                 /dev/fb0        display        HD Graphics 630
/0/100/14                                bus            100 Series/C230 Series Chipset Family USB 3.0 xHCI Controller
/0/100/14/0              usb1            bus            xHCI Host Controller
/0/100/14/0/1                            input          USB Receiver
/0/100/14/0/1/0          input23         input          Logitech Wireless Mouse
/0/100/14/0/6                            generic        Generic USB device
/0/100/14/0/7                            communication  Bluetooth wireless interface
/0/100/14/0/8            input24         multimedia     Integrated Camera: Integrated C
/0/100/14/1              usb2            bus            xHCI Host Controller
/0/100/14/1/2            scsi0           storage        SanDisk 3.2Gen1
/0/100/14/1/2/0.0.0      /dev/sda        disk           250GB SanDisk 3.2Gen1
/0/100/14/1/2/0.0.0/0    /dev/sda        disk           250GB
/0/100/14/1/2/0.0.0/0/1                  volume         188GiB Windows FAT volume
/0/100/14/1/2/0.0.0/0/2  /dev/sda2       volume         44GiB Linux filesystem partition
/0/100/14.2                              generic        100 Series/C230 Series Chipset Family Thermal Subsystem
/0/100/16                                communication  100 Series/C230 Series Chipset Family MEI Controller #1
/0/100/1c                                bridge         100 Series/C230 Series Chipset Family PCI Express Root Port #1
/0/100/1c/0              wlan0           network        Wireless 8265 / 8275



3. how to find out what kind of box your on

rootðŸ’€kali)-[/home/kali]
â””â”€# uname -a                                                       
Linux kali 5.10.0-kali7-amd64 #1 SMP Debian 5.10.28-1kali1 (2021-04-12) x86_64 GNU/Linux


4. how to check log-ins

> :~$ last -a 




5. how to get ip address easily

> $ ip addr
> $ ifconfig

6. how to look at all open files on the system

note:  you want to output this somewhere or break the output because
     its super clunky

> $ lsof



7. this allows you to look at applications downloads and anything that    looks malicious on the system.

> lsmod

"so if someone were exploiting the system in real time you could observe them from this view using the 'lsmod' command.


8. this gives you a clean picture of whats "really" been going on, on
   the current machine in question.

this will give you the audit.log files. this is an audit report including but not limited too.

- failed log in attempts
- ANY changes made to users
- failed log in attempts
- host names authentications
- and more


> aureport

 i think i will name this the watercooler report. on account of this seems like the shit people would whisper about by a water cooler out of ear shot of management. lol idk im tired


note: this comes from the audit ID set toolkit 

====================================================================
we are now switching from linux to windows! : ))

======================================================================

this is how to monitor a windows OS from Command prompt

1. similar to Uname and a few other commands combind in one 

> systeminfo

2. date /t & time /t

note: dont sleep on this command. you can throw off log files dramatically and a few other things to an extremly dangerous level. this should be one of the first things we check. 

3. checking the doskey history is the same as checking the bashhistory

 
> C:\Windows\system32> doskey /history

shows us what has gone on in this particular shell

note: netstat is installed on windows by default

> netstat -ab looks at all active connections, the protocol associated
               with them and ports.
note: shows both tcp and udp connections


> netstat -ano

 this command gives us the same output but its clean and crispy


> netstat -r 

 the -r flag report back with the routing tables lets us look for 
 
check out the ip adressing
	- what kind of static route do we see?
	- check out the iPv6 route table
	- looking for hidden command and control pathways that could 
          be programmed in there. to have the ability to stay attached
          to the box. (establishing persistence)

4. if we use the command 'net statistics workstation/server'

> net statistics workstation


> net statistics server

the word following statistics is a variable. if you are working on a workstation type workstation.

if you are working on a server type...

this gives us great information.

server disconnects

SMB connections in
SMB connections out

failed attempted connections

and much more

note: this is not the same command you will find similarly named in linux. they are both name 'net' but the one on windows has the above command. the 'net' on linux doesn't have these abilities.


> netstat -n 

 lists active connections in a different manner then the above method.



5. if you would like a gui monitoring system for windows use process explorer from sysinternals???
