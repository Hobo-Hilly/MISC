 # cheat sheet for working with vars 

''


working with Variables

There will be several tasks that you need to perform repeatedly in penetration testing. Either you can keep doing them manually, or you can automate them using scripts. There is nothing wrong with doing things manually, except that you are spending more time in doing them. You are also likely to make more errors when you do them manually. On the other hand, if you use a script to perform a task, you are likely to get the same result without any error.

Scripts can be created in different languages, such as

    Bash: It is mostly used in Linux and Unix environments. Any operating system, which uses Linux as the base shell, can use Bash-based shell scripts. A bash script, or shell script, use the extension .sh.
    PowerShell: It is mostly used in the Windows environment. However, since it is an open-source tool, you can also use it on Linux and Mac operating systems. A PowerShell script has the .ps1 extension.
    Ruby: It is an interpreted language that is not limited to the operating system commands. You need to write a script and run it. There is no need to compile the script or code as you would need to do in C language. A Ruby script has the .rb extension.
    Python: Just like Ruby, Python is also an interpreted language. Python is used heavily in penetration testing because of its robustness. A Python script has the .py extension.

Note: In this module, you will largely focus on writing small scripts in Bash.

Depending upon the requirement and your expertise, you can use any of them in penetration testing.

Scripts are run in the shell environment in any operating system. When writing a script, you will use variables, which are mainly used for storing a type of data in memory and then use it later. Variables can store various types of information, such as:

    Integers
    Character strings
    Boolean
    Date and time

In this exercise, you will learn to work with variables.
''

  Use Local and Global Variables

There can be two types of variables in Linux. The first variable is the local variable that is used within the current shell. The moment the shell is closed, the variable is removed and is no longer available. When you load a new shell within the current shell, the local variable is no longer available.

The global variable, on the other hand, is available across the shells. Even if you load a shell within the current shell, the global variable will be available.

To use local and global variables, perform the following steps:

1. with the terminal window is displayed. Let’s first declare a local v   ariable. To do this, type the following command in the terminal wind   ow:

> plab=apple

> press enter

> notice that there is no output.

2. you need to verify if the variable has been created with the value a   s the apple. Type the following command:

> echo $plab

> Press Enter

> notice that the output is displayed as the apple

3. remember that you have declared a local variable named plab. Its val   ue is limited to the current shell. You can verify if the variable i   s available outside the current shell, and to do this, let’s open an   other child shell within the current shell. Type the following comma   nd:

> /bin/bash

> press enter

> the prompt will be the same. I say again, you will not be able to tell anything happend at all. it will look blank but you are for sure 100 percent in a child shell that you have just spawned with the /bin/bash command

4. you can now verify for the plab variable. To do this, type the follo   wing command:

> echo $plab

> press enter

> notice that an empty line is printed. This means that the plab variab  le does not exist in this shell.

5. Now define the plab variable in the child shell with the value banana. To do this, type the following command:

> plab=banana

> Press Enter

> the variable plab is now defined with the value as the banana

6. you need to verify if the variable has been created with the value a   s the banana. Type the following command:

> echo $plab

> Press Enter

> Notice that the output is displayed as the banana. This means that y   ou can create a local variable with the same name in different shell   s and store different values.

7. to exit from the child shell, type the following command:

> exit

> Press Enter

> you are back on the shell that you had initially used to declare plab  with the value apple. Type the following command:

> echo $plab

> press enter

> notice that the value is now shown as the apple.

8. clear the screen by entering the following command:

> clear

============== switching to global vars ====================



  next you'll focus on creating a global variable. The method of creati  ng a global variable is the same as creating a local variable. Howeve  r, you need to use the export command to set a local variable as glob  al. Let’s verify the value of the local variable, plab, that you have  already declared. Type the following command:

> echo $plab

> Press Enter

> notice that the value is now shown as the apple

1. you now need to make plab a global variable. To do this, type the fo   llowing command:

> export plab

> Press Enter.

> notice that there is no output

2. you need to open a child shell. To do this, type the following comma   nd:

> /bin/bash

> Press Enter

> you are now in the child shell.

4. Let’s check the value of the plab variable. Type the following comma   nd:

> echo $plab

> Press Enter.
 
> notice that the plab displays the output as the apple. Remember, you   did not define any variable this time in the child shell, but you are  able to get the value of the variable

5. to exit from the child shell, type the following command:

> exit

> Press Enter

6. you are back on the shell that you had initially used to declare pla   b with the value apple.

> echo $plab

> Press Enter.

> The plab variable still displays the value as the apple

